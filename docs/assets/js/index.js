!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=40)}([function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var o=n(30)("wks"),i=n(31),r=n(0).Symbol,a="function"==typeof r;(e.exports=function(e){return o[e]||(o[e]=a&&r[e]||(a?r:i)("Symbol."+e))}).store=o},function(e,t){var n=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(e,t,n){var o=n(9);e.exports=function(e){if(!o(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var o=n(8),i=n(28);e.exports=n(5)?function(e,t,n){return o.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){e.exports=!n(27)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,n){e.exports=n(76)},function(e,t,n){var o=n(0),i=n(2),r=n(11),a=n(4),s=n(13),c="prototype",l=function(e,t,n){var u,d,f,h=e&l.F,p=e&l.G,_=e&l.S,m=e&l.P,v=e&l.B,g=e&l.W,b=p?i:i[t]||(i[t]={}),y=b[c],x=p?o:_?o[t]:(o[t]||{})[c];for(u in p&&(n=t),n)(d=!h&&x&&void 0!==x[u])&&s(b,u)||(f=d?x[u]:n[u],b[u]=p&&"function"!=typeof x[u]?n[u]:v&&d?r(f,o):g&&x[u]==f?function(e){function t(t,n,o){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,o)}return e.apply(this,arguments)}return t[c]=e[c],t}(f):m&&"function"==typeof f?r(Function.call,f):f,m&&((b.virtual||(b.virtual={}))[u]=f,e&l.R&&y&&!y[u]&&a(y,u,f)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t,n){var o=n(3),i=n(45),r=n(46),a=Object.defineProperty;t.f=n(5)?Object.defineProperty:function(e,t,n){if(o(e),t=r(t,!0),o(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports={}},function(e,t,n){var o=n(12);e.exports=function(e,t,n){if(o(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,o){return e.call(t,n,o)};case 3:return function(n,o,i){return e.call(t,n,o,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){var o=n(77);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),o(e,i.key,i)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}},function(e,t){var n=Math.ceil,o=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?o:n)(e)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){e.exports=!0},function(e,t,n){var o=n(9),i=n(0).document,r=o(i)&&o(i.createElement);e.exports=function(e){return r?i.createElement(e):{}}},function(e,t,n){var o=n(53),i=n(18);e.exports=function(e){return o(i(e))}},function(e,t,n){var o=n(30)("keys"),i=n(31);e.exports=function(e){return o[e]||(o[e]=i(e))}},function(e,t,n){var o=n(8).f,i=n(13),r=n(1)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,r)&&o(e,r,{configurable:!0,value:t})}},function(e,t,n){"use strict";var o=n(12);function i(e){var t,n;this.promise=new e((function(e,o){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=o})),this.resolve=o(t),this.reject=o(n)}e.exports.f=function(e){return new i(e)}},function(e,t){e.exports={projectName:"marchingCubes",env:"production",siteUrl:"https://takumi0125.github.io/threejsMarchingCubesMetaball/"}},function(e,t,n){"use strict";function o(){return this}var i=n(19),r=n(7),a=n(47),s=n(4),c=n(10),l=n(48),u=n(23),d=n(56),f=n(1)("iterator"),h=!([].keys&&"next"in[].keys()),p="values";e.exports=function(e,t,n,_,m,v,g){function b(e){if(!h&&e in A)return A[e];switch(e){case"keys":case p:return function(){return new n(this,e)}}return function(){return new n(this,e)}}l(n,t,_);var y,x,w,E=t+" Iterator",S=m==p,C=!1,A=e.prototype,k=A[f]||A["@@iterator"]||m&&A[m],O=k||b(m),T=m?S?b("entries"):O:void 0,L="Array"==t&&A.entries||k;if(L&&(w=d(L.call(new e)))!==Object.prototype&&w.next&&(u(w,E,!0),i||"function"==typeof w[f]||s(w,f,o)),S&&k&&k.name!==p&&(C=!0,O=function(){return k.call(this)}),i&&!g||!h&&!C&&A[f]||s(A,f,O),c[t]=O,c[E]=o,m)if(y={values:S?O:b(p),keys:v?O:b("keys"),entries:T},g)for(x in y)x in A||a(A,x,y[x]);else r(r.P+r.F*(h||C),t,y);return y}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var o=n(17),i=Math.min;e.exports=function(e){return 0<e?i(o(e),9007199254740991):0}},function(e,t,n){var o=n(2),i=n(0),r="__core-js_shared__",a=i[r]||(i[r]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:o.version,mode:n(19)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){var n=0,o=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+o).toString(36))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var o=n(0).document;e.exports=o&&o.documentElement},function(e,t,n){var o=n(14),i=n(1)("toStringTag"),r="Arguments"==o(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:r?o(t):"Object"==(a=o(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){var o=n(3),i=n(12),r=n(1)("species");e.exports=function(e,t){var n,a=o(e).constructor;return void 0===a||null==(n=o(a)[r])?t:i(n)}},function(e,t,n){function o(){var e=+this;if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}}function i(e){o.call(e.data)}var r,a,s,c=n(11),l=n(68),u=n(33),d=n(20),f=n(0),h=f.process,p=f.setImmediate,_=f.clearImmediate,m=f.MessageChannel,v=f.Dispatch,g=0,b={},y="onreadystatechange";p&&_||(p=function(e){for(var t=[],n=1;n<arguments.length;)t.push(arguments[n++]);return b[++g]=function(){l("function"==typeof e?e:Function(e),t)},r(g),g},_=function(e){delete b[e]},"process"==n(14)(h)?r=function(e){h.nextTick(c(o,e,1))}:v&&v.now?r=function(e){v.now(c(o,e,1))}:m?(s=(a=new m).port2,a.port1.onmessage=i,r=c(s.postMessage,s,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(r=function(e){f.postMessage(e+"","*")},f.addEventListener("message",i,!1)):r=y in d("script")?function(e){u.appendChild(d("script"))[y]=function(){u.removeChild(this),o.call(e)}}:function(e){setTimeout(c(o,e,1),0)}),e.exports={set:p,clear:_}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var o=n(3),i=n(9),r=n(24);e.exports=function(e,t){if(o(e),i(t)&&t.constructor===e)return t;var n=r.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){e.exports=n(41)},function(e,t,n){e.exports=n(83)},function(e,t,n){n(42),n(43),n(58),n(62),n(74),n(75),e.exports=n(2).Promise},function(e,t){},function(e,t,n){"use strict";var o=n(44)(!0);n(26)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=o(t,n),this._i+=e.length,{value:e,done:!1})}))},function(e,t,n){var o=n(17),i=n(18);e.exports=function(e){return function(t,n){var r,a,s=String(i(t)),c=o(n),l=s.length;return c<0||l<=c?e?"":void 0:(r=s.charCodeAt(c))<55296||56319<r||c+1===l||(a=s.charCodeAt(c+1))<56320||57343<a?e?s.charAt(c):r:e?s.slice(c,c+2):a-56320+(r-55296<<10)+65536}}},function(e,t,n){e.exports=!n(5)&&!n(27)((function(){return 7!=Object.defineProperty(n(20)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var o=n(9);e.exports=function(e,t){if(!o(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!o(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!o(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!o(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){e.exports=n(4)},function(e,t,n){"use strict";var o=n(49),i=n(28),r=n(23),a={};n(4)(a,n(1)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=o(a,{next:i(1,n)}),r(e,t+" Iterator")}},function(e,t,n){function o(){}var i=n(3),r=n(50),a=n(32),s=n(22)("IE_PROTO"),c="prototype",l=function(){var e,t=n(20)("iframe"),o=a.length;for(t.style.display="none",n(33).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;o--;)delete l[c][a[o]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(o[c]=i(e),n=new o,o[c]=null,n[s]=e):n=l(),void 0===t?n:r(n,t)}},function(e,t,n){var o=n(8),i=n(3),r=n(51);e.exports=n(5)?Object.defineProperties:function(e,t){i(e);for(var n,a=r(t),s=a.length,c=0;c<s;)o.f(e,n=a[c++],t[n]);return e}},function(e,t,n){var o=n(52),i=n(32);e.exports=Object.keys||function(e){return o(e,i)}},function(e,t,n){var o=n(13),i=n(21),r=n(54)(!1),a=n(22)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),c=0,l=[];for(n in s)n!=a&&o(s,n)&&l.push(n);for(;t.length>c;)o(s,n=t[c++])&&(~r(l,n)||l.push(n));return l}},function(e,t,n){var o=n(14);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==o(e)?e.split(""):Object(e)}},function(e,t,n){var o=n(21),i=n(29),r=n(55);e.exports=function(e){return function(t,n,a){var s,c=o(t),l=i(c.length),u=r(a,l);if(e&&n!=n){for(;u<l;)if((s=c[u++])!=s)return!0}else for(;u<l;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}}},function(e,t,n){var o=n(17),i=Math.max,r=Math.min;e.exports=function(e,t){return(e=o(e))<0?i(e+t,0):r(e,t)}},function(e,t,n){var o=n(13),i=n(57),r=n(22)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),o(e,r)?e[r]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var o=n(18);e.exports=function(e){return Object(o(e))}},function(e,t,n){n(59);for(var o=n(0),i=n(4),r=n(10),a=n(1)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<s.length;c++){var l=s[c],u=o[l],d=u&&u.prototype;d&&!d[a]&&i(d,a,l),r[l]=r.Array}},function(e,t,n){"use strict";var o=n(60),i=n(61),r=n(10),a=n(21);e.exports=n(26)(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),r.Arguments=r.Array,o("keys"),o("values"),o("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";function o(){}function i(e){var t;return!(!m(e)||"function"!=typeof(t=e.then))&&t}function r(e,t){if(!e._n){e._n=!0;var n=e._c;w((function(){for(var o=e._v,r=1==e._s,a=0,s=function(t){var n,a,s,c=r?t.ok:t.fail,l=t.resolve,u=t.reject,d=t.domain;try{c?(r||(2==e._h&&D(e),e._h=1),!0===c?n=o:(d&&d.enter(),n=c(o),d&&(d.exit(),s=!0)),n===t.promise?u(O("Promise-chain cycle")):(a=i(n))?a.call(n,l,u):l(n)):u(o)}catch(t){d&&!s&&d.exit(),u(t)}};n.length>a;)s(n[a++]);e._c=[],e._n=!1,t&&!e._h&&H(e)}))}}function a(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),r(t,!0))}var s,c,l,u,d=n(19),f=n(0),h=n(11),p=n(34),_=n(7),m=n(9),v=n(12),g=n(63),b=n(64),y=n(35),x=n(36).set,w=n(69)(),E=n(24),S=n(37),C=n(70),A=n(38),k="Promise",O=f.TypeError,T=f.process,L=T&&T.versions,R=L&&L.v8||"",I=f[k],P="process"==p(T),j=c=E.f,N=!!function(){try{var e=I.resolve(1),t=(e.constructor={})[n(1)("species")]=function(e){e(o,o)};return(P||"function"==typeof PromiseRejectionEvent)&&e.then(o)instanceof t&&0!==R.indexOf("6.6")&&-1===C.indexOf("Chrome/66")}catch(e){}}(),H=function(e){x.call(f,(function(){var t,n,o,i=e._v,r=M(e);if(r&&(t=S((function(){P?T.emit("unhandledRejection",i,e):(n=f.onunhandledrejection)?n({promise:e,reason:i}):(o=f.console)&&o.error&&o.error("Unhandled promise rejection",i)})),e._h=P||M(e)?2:1),e._a=void 0,r&&t.e)throw t.v}))},M=function(e){return 1!==e._h&&0===(e._a||e._c).length},D=function(e){x.call(f,(function(){var t;P?T.emit("rejectionHandled",e):(t=f.onrejectionhandled)&&t({promise:e,reason:e._v})}))},F=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw O("Promise can't be resolved itself");(t=i(e))?w((function(){var o={_w:n,_d:!1};try{t.call(e,h(F,o,1),h(a,o,1))}catch(e){a.call(o,e)}})):(n._v=e,n._s=1,r(n,!1))}catch(e){a.call({_w:n,_d:!1},e)}}};N||(I=function(e){g(this,I,k,"_h"),v(e),s.call(this);try{e(h(F,this,1),h(a,this,1))}catch(e){a.call(this,e)}},(s=function(){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(71)(I.prototype,{then:function(e,t){var n=j(y(this,I));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=P?T.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&r(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),l=function(){var e=new s;this.promise=e,this.resolve=h(F,e,1),this.reject=h(a,e,1)},E.f=j=function(e){return e===I||e===u?new l(e):c(e)}),_(_.G+_.W+_.F*!N,{Promise:I}),n(23)(I,k),n(72)(k),u=n(2)[k],_(_.S+_.F*!N,k,{reject:function(e){var t=j(this);return(0,t.reject)(e),t.promise}}),_(_.S+_.F*(d||!N),k,{resolve:function(e){return A(d&&this===u?I:this,e)}}),_(_.S+_.F*!(N&&n(73)((function(e){I.all(e).catch(o)}))),k,{all:function(e){var t=this,n=j(t),o=n.resolve,i=n.reject,r=S((function(){var n=[],r=0,a=1;b(e,!1,(function(e){var s=r++,c=!1;n.push(void 0),a++,t.resolve(e).then((function(e){c||(c=!0,n[s]=e,--a||o(n))}),i)})),--a||o(n)}));return r.e&&i(r.v),n.promise},race:function(e){var t=this,n=j(t),o=n.reject,i=S((function(){b(e,!1,(function(e){t.resolve(e).then(n.resolve,o)}))}));return i.e&&o(i.v),n.promise}})},function(e,t){e.exports=function(e,t,n,o){if(!(e instanceof t)||void 0!==o&&o in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var o=n(11),i=n(65),r=n(66),a=n(3),s=n(29),c=n(67),l={},u={};(t=e.exports=function(e,t,n,d,f){var h,p,_,m,v=f?function(){return e}:c(e),g=o(n,d,t?2:1),b=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(r(v)){for(h=s(e.length);b<h;b++)if((m=t?g(a(p=e[b])[0],p[1]):g(e[b]))===l||m===u)return m}else for(_=v.call(e);!(p=_.next()).done;)if((m=i(_,g,p.value,t))===l||m===u)return m}).BREAK=l,t.RETURN=u},function(e,t,n){var o=n(3);e.exports=function(e,t,n,i){try{return i?t(o(n)[0],n[1]):t(n)}catch(t){var r=e.return;throw void 0!==r&&o(r.call(e)),t}}},function(e,t,n){var o=n(10),i=n(1)("iterator"),r=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||r[i]===e)}},function(e,t,n){var o=n(34),i=n(1)("iterator"),r=n(10);e.exports=n(2).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||r[o(e)]}},function(e,t){e.exports=function(e,t,n){var o=void 0===n;switch(t.length){case 0:return o?e():e.call(n);case 1:return o?e(t[0]):e.call(n,t[0]);case 2:return o?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return o?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return o?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var o=n(0),i=n(36).set,r=o.MutationObserver||o.WebKitMutationObserver,a=o.process,s=o.Promise,c="process"==n(14)(a);e.exports=function(){function e(){var e,o;for(c&&(e=a.domain)&&e.exit();t;){o=t.fn,t=t.next;try{o()}catch(e){throw t?l():n=void 0,e}}n=void 0,e&&e.enter()}var t,n,l;if(c)l=function(){a.nextTick(e)};else if(!r||o.navigator&&o.navigator.standalone)if(s&&s.resolve){var u=s.resolve(void 0);l=function(){u.then(e)}}else l=function(){i.call(o,e)};else{var d=!0,f=document.createTextNode("");new r(e).observe(f,{characterData:!0}),l=function(){f.data=d=!d}}return function(e){var o={fn:e,next:void 0};n&&(n.next=o),t||(t=o,l()),n=o}}},function(e,t,n){var o=n(0).navigator;e.exports=o&&o.userAgent||""},function(e,t,n){var o=n(4);e.exports=function(e,t,n){for(var i in t)n&&e[i]?e[i]=t[i]:o(e,i,t[i]);return e}},function(e,t,n){"use strict";var o=n(0),i=n(2),r=n(8),a=n(5),s=n(1)("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:o[e];a&&t&&!t[s]&&r.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){var o=n(1)("iterator"),i=!1;try{var r=[7][o]();r.return=function(){i=!0},Array.from(r,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var r=[7],a=r[o]();a.next=function(){return{done:n=!0}},r[o]=function(){return a},e(r)}catch(e){}return n}},function(e,t,n){"use strict";var o=n(7),i=n(2),r=n(0),a=n(35),s=n(38);o(o.P+o.R,"Promise",{finally:function(e){var t=a(this,i.Promise||r.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then((function(){return n}))}:e,n?function(n){return s(t,e()).then((function(){throw n}))}:e)}})},function(e,t,n){"use strict";var o=n(7),i=n(24),r=n(37);o(o.S,"Promise",{try:function(e){var t=i.f(this),n=r(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){var o=function(e){"use strict";var t,n=Object.prototype,o=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n,o){var i,r,a,s,c=t&&t.prototype instanceof _?t:_,m=Object.create(c.prototype),v=new k(o||[]);return m._invoke=(i=e,r=n,a=v,s=u,function(e,t){if(s===f)throw new Error("Generator is already running");if(s===h){if("throw"===e)throw t;return T()}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){var o=S(n,a);if(o){if(o===p)continue;return o}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===u)throw s=h,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=f;var c=l(i,r,a);if("normal"===c.type){if(s=a.done?h:d,c.arg===p)continue;return{value:c.arg,done:a.done}}"throw"===c.type&&(s=h,a.method="throw",a.arg=c.arg)}}),m}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var u="suspendedStart",d="suspendedYield",f="executing",h="completed",p={};function _(){}function m(){}function v(){}var g={};g[r]=function(){return this};var b=Object.getPrototypeOf,y=b&&b(b(O([])));y&&y!==n&&o.call(y,r)&&(g=y);var x=v.prototype=_.prototype=Object.create(g);function w(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function E(e){var t;this._invoke=function(n,i){function r(){return new Promise((function(t,r){!function t(n,i,r,a){var s=l(e[n],e,i);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==typeof u&&o.call(u,"__await")?Promise.resolve(u.__await).then((function(e){t("next",e,r,a)}),(function(e){t("throw",e,r,a)})):Promise.resolve(u).then((function(e){c.value=e,r(c)}),(function(e){return t("throw",e,r,a)}))}a(s.arg)}(n,i,t,r)}))}return t=t?t.then(r,r):r()}}function S(e,n){var o=e.iterator[n.method];if(o===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return p;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var i=l(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,p;var r=i.arg;return r?r.done?(n[e.resultName]=r.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,p):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function O(e){if(e){var n=e[r];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(o.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:T}}function T(){return{value:t,done:!0}}return m.prototype=x.constructor=v,v.constructor=m,v[s]=m.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},w(E.prototype),E.prototype[a]=function(){return this},e.AsyncIterator=E,e.async=function(t,n,o,i){var r=new E(c(t,n,o,i));return e.isGeneratorFunction(n)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},w(x),x[s]="Generator",x[r]=function(){return this},x.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=O,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(o,i){return s.type="throw",s.arg=e,n.next=o,i&&(n.method="next",n.arg=t),!!i}for(var r=this.tryEntries.length-1;0<=r;--r){var a=this.tryEntries[r],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),l=o.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var i=o.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,o){return this.delegate={iterator:O(e),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=t),p}},e}(e.exports);try{regeneratorRuntime=o}catch(e){Function("r","regeneratorRuntime = r")(o)}},function(e,t,n){e.exports=n(78)},function(e,t,n){n(79);var o=n(2).Object;e.exports=function(e,t,n){return o.defineProperty(e,t,n)}},function(e,t,n){var o=n(7);o(o.S+o.F*!n(5),"Object",{defineProperty:n(8).f})},function(e,t){e.exports="precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute float vertexId;\n\nuniform float time;\nuniform vec3 numCells;\nuniform vec3 cellSize;\nuniform sampler2D triTableTexture;\n\nuniform float effectValue;\nuniform float smoothUnionValue;\n\nuniform mat4 modelViewMatrix;\nuniform mat3 normalMatrix;\nuniform mat4 projectionMatrix;\nuniform vec3 cameraPosition;\nuniform vec4 randomValues[NUM_SPHERES];\n\nvarying vec3 vPos;\nvarying vec3 vNormal;\nvarying float vDiscard;\n\nconst float PI = 3.1415926535897932384626433832795;\n\nvec3 rotateVec3(vec3 p, float angle, vec3 axis){\n  vec3 a = normalize(axis);\n  float s = sin(angle);\n  float c = cos(angle);\n  float r = 1.0 - c;\n  mat3 m = mat3(\n    a.x * a.x * r + c,\n    a.y * a.x * r + a.z * s,\n    a.z * a.x * r - a.y * s,\n    a.x * a.y * r - a.z * s,\n    a.y * a.y * r + c,\n    a.z * a.y * r + a.x * s,\n    a.x * a.z * r + a.y * s,\n    a.y * a.z * r - a.x * s,\n    a.z * a.z * r + c\n  );\n  return m * p;\n}\n\nconst float PI2 = PI * 2.0;\nconst vec3 AXIS_X = vec3(1.0, 0.0, 0.0);\nconst vec3 AXIS_Y = vec3(0.0, 1.0, 0.0);\nconst vec3 AXIS_Z = vec3(0.0, 0.0, 1.0);\n\n// 球の距離関数\nfloat sphere(vec3 p, float r) {\n  return length(p) - r;\n}\n\n// メタボールをランダムに動かす\nfloat randomObj(vec3 p, int i, vec4 randomValues) {\n  float t = mod(time * 0.002 * (0.2 + randomValues.w) + randomValues.z * 100.0, PI2);\n  vec3 translate = (randomValues.xyz * 2.0 - 1.0) * 20.0 * sin(t);\n  float r = 6.0 + randomValues.x * 6.0;\n  float l = cellSize.x;\n  p -= translate;\n  return sphere(p, r);\n}\n\n// Smooth Union\nfloat opSmoothUnion(float d1, float d2, float k) {\n  float h = clamp(0.5 + 0.5 * (d2 - d1) / k, 0.0, 1.0);\n  return mix(d2, d1, h) - k * h * (1.0 - h);\n}\n\n// 最終的な距離関数\nfloat getDistance(vec3 p) {\n  // 適当に回転\n  float theta = mod(time * 0.001, PI2);\n  p = rotateVec3(p, theta, AXIS_Z);\n  p = rotateVec3(p, theta, AXIS_X);\n\n  float result = 0.0;\n  float d;\n  for(int i = 0; i < NUM_SPHERES; i++) {\n    d = randomObj(p, i, randomValues[i]);\n    if(result == 0.0) result = d;\n    result = opSmoothUnion(result, d, smoothUnionValue);\n  }\n\n  return result;\n}\n\n// 法線を算出\nvec3 getNormal(vec3 p) {\n  float d = 0.1;\n  return normalize(vec3(\n    getDistance(p + vec3(d, 0.0, 0.0)) - getDistance(p - vec3(d, 0.0, 0.0)),\n    getDistance(p + vec3(0.0, d, 0.0)) - getDistance(p - vec3(0.0, d, 0.0)),\n    getDistance(p + vec3(0.0, 0.0, d)) - getDistance(p - vec3(0.0, 0.0, d))\n  ));\n}\n\n// v0, v1の値をもとにp0, p1を補間した値を返す\nvec3 interpolate(vec3 p0, vec3 p1, float v0, float v1) {\n  return mix(p0, p1, -v0 / (v1 - v0));\n}\n\n// 論理演算用\nint modi(int x, int y) { return x - y * (x / y); }\n\n// 論理和\nint or(int a, int b) {\n  int result = 0;\n  int n = 1;\n  for(int i = 0; i < 8; i++) {\n    if ((modi(a, 2) == 1) || (modi(b, 2) == 1)) result += n;\n    a = a / 2;\n    b = b / 2;\n    n = n * 2;\n    if(!(a > 0 || b > 0)) break;\n  }\n  return result;\n}\n\nvoid main(void){\n  float cellId = floor(vertexId / 15.0); // セルのID\n  float vertexIdInCell = mod(vertexId, 15.0); // セル内での頂点のID\n\n  // セルの基準点を算出\n  vec3 cellIndices = vec3(\n    mod(cellId, numCells.x),\n    mod(cellId, (numCells.x * numCells.y)) / numCells.x,\n    cellId / (numCells.x * numCells.y)\n  );\n  cellIndices = floor(cellIndices);\n\n  // セルの基準点 (立方体の向かって左下奥)\n  vec3 c0 = (0.5 * numCells - cellIndices) * cellSize;\n\n  // セルの各頂点\n  vec3 c1 = c0 + cellSize * vec3(1.0, 0.0, 0.0);\n  vec3 c2 = c0 + cellSize * vec3(1.0, 0.0, 1.0);\n  vec3 c3 = c0 + cellSize * vec3(0.0, 0.0, 1.0);\n  vec3 c4 = c0 + cellSize * vec3(0.0, 1.0, 0.0);\n  vec3 c5 = c0 + cellSize * vec3(1.0, 1.0, 0.0);\n  vec3 c6 = c0 + cellSize * vec3(1.0, 1.0, 1.0);\n  vec3 c7 = c0 + cellSize * vec3(0.0, 1.0, 1.0);\n\n  // セルの各頂点のボクセル値を求める (ボクセル値はメタボールまでの距離)\n  float v0 = getDistance(c0);\n  float v1 = getDistance(c1);\n  float v2 = getDistance(c2);\n  float v3 = getDistance(c3);\n  float v4 = getDistance(c4);\n  float v5 = getDistance(c5);\n  float v6 = getDistance(c6);\n  float v7 = getDistance(c7);\n\n  // ルックアップテーブルの参照\n\n  // まずはポリゴンの張り方の256通りのうちどのパターンになるか調べる\n  float cubeIndex = 0.0;\n  cubeIndex = mix(cubeIndex, float(or(int(cubeIndex),   1)), 1.0 - step(0.0, v0));\n  cubeIndex = mix(cubeIndex, float(or(int(cubeIndex),   2)), 1.0 - step(0.0, v1));\n  cubeIndex = mix(cubeIndex, float(or(int(cubeIndex),   4)), 1.0 - step(0.0, v2));\n  cubeIndex = mix(cubeIndex, float(or(int(cubeIndex),   8)), 1.0 - step(0.0, v3));\n  cubeIndex = mix(cubeIndex, float(or(int(cubeIndex),  16)), 1.0 - step(0.0, v4));\n  cubeIndex = mix(cubeIndex, float(or(int(cubeIndex),  32)), 1.0 - step(0.0, v5));\n  cubeIndex = mix(cubeIndex, float(or(int(cubeIndex),  64)), 1.0 - step(0.0, v6));\n  cubeIndex = mix(cubeIndex, float(or(int(cubeIndex), 128)), 1.0 - step(0.0, v7));\n\n  // 続いて現在の頂点がどの辺上に配置されるかを調べる\n  // つまり、ルックアップテーブルのどの値を参照するかのインデックスを求める\n  float edgeIndex = texture2D(triTableTexture, vec2((cubeIndex * 16.0 + vertexIdInCell) / 4096.0, 0.0)).a * 255.0;\n  vec3 pos = position;\n\n  vDiscard = 0.0;\n  if(edgeIndex == 255.0) {\n    // edgeIndexが255の場合、頂点は破棄\n    vNormal = vec3(0.0, 0.0, 1.0);\n    pos = position;\n    vDiscard = 1.0;\n  } else if (edgeIndex == 0.0) {\n    pos = interpolate(c0, c1, v0, v1);\n  } else if (edgeIndex == 1.0) {\n    pos = interpolate(c1, c2, v1, v2);\n  } else if (edgeIndex == 2.0) {\n    pos = interpolate(c2, c3, v2, v3);\n  } else if (edgeIndex == 3.0) {\n    pos = interpolate(c3, c0, v3, v0);\n  } else if (edgeIndex == 4.0) {\n    pos = interpolate(c4, c5, v4, v5);\n  } else if (edgeIndex == 5.0) {\n    pos = interpolate(c5, c6, v5, v6);\n  } else if (edgeIndex == 6.0) {\n    pos = interpolate(c6, c7, v6, v7);\n  } else if (edgeIndex == 7.0) {\n    pos = interpolate(c4, c7, v4, v7);\n  } else if (edgeIndex == 8.0) {\n    pos = interpolate(c0, c4, v0, v4);\n  } else if (edgeIndex == 9.0) {\n    pos = interpolate(c1, c5, v1, v5);\n  } else if (edgeIndex == 10.0) {\n    pos = interpolate(c2, c6, v2, v6);\n  } else if (edgeIndex == 11.0) {\n    pos = interpolate(c3, c7, v3, v7);\n  }\n\n  vNormal = getNormal(pos);\n\n  // エフェクト\n  vec3 effectSize = cellSize * 1.5;\n  pos = mix(pos, floor(pos / effectSize + 0.5) * effectSize, effectValue);\n\n  vPos = pos;\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);\n}\n"},function(e,t){e.exports="precision highp float;\n#define GLSLIFY 1\n\nuniform vec3 cameraPosition;\nuniform vec3 sphereColor;\n\nvarying vec3 vPos;\nvarying vec3 vNormal;\nvarying float vDiscard;\n\nconst vec3 LIGHT_DIR = normalize(vec3(1.0, 1.0, 1.0));\n\nvoid main(void) {\n  if (vDiscard == 1.0) {\n    discard;\n  } else {\n    vec3 n = normalize(vNormal);\n\n    vec3 light = normalize(LIGHT_DIR);\n    vec3 eye = normalize(cameraPosition - vPos);\n    vec3 halfLE = normalize(light + eye);\n    float diffuse = clamp(dot(n, light), 0.3, 1.0);\n    float specular = pow(clamp(dot(n, halfLE), 0.0, 1.0), 50.0);\n    vec3 color = sphereColor * vec3(diffuse) + vec3(specular);\n    gl_FragColor = vec4(color, 1.0);\n  }\n}"},function(e,t,n){"use strict";function o(e,t){var n=e.__state.conversionName.toString(),o=Math.round(e.r),i=Math.round(e.g),r=Math.round(e.b),a=e.a,s=Math.round(e.h),c=e.s.toFixed(1),l=e.v.toFixed(1);if(t||"THREE_CHAR_HEX"===n||"SIX_CHAR_HEX"===n){for(var u=e.hex.toString(16);u.length<6;)u="0"+u;return"#"+u}return"CSS_RGB"===n?"rgb("+o+","+i+","+r+")":"CSS_RGBA"===n?"rgba("+o+","+i+","+r+","+a+")":"HEX"===n?"0x"+e.hex.toString(16):"RGB_ARRAY"===n?"["+o+","+i+","+r+"]":"RGBA_ARRAY"===n?"["+o+","+i+","+r+","+a+"]":"RGB_OBJ"===n?"{r:"+o+",g:"+i+",b:"+r+"}":"RGBA_OBJ"===n?"{r:"+o+",g:"+i+",b:"+r+",a:"+a+"}":"HSV_OBJ"===n?"{h:"+s+",s:"+c+",v:"+l+"}":"HSVA_OBJ"===n?"{h:"+s+",s:"+c+",v:"+l+",a:"+a+"}":"unknown format"}n.r(t),n.d(t,"color",(function(){return ye})),n.d(t,"controllers",(function(){return xe})),n.d(t,"dom",(function(){return we})),n.d(t,"gui",(function(){return Ee})),n.d(t,"GUI",(function(){return Se}));var i,r=Array.prototype.forEach,a=Array.prototype.slice,s={BREAK:{},extend:function(e){return this.each(a.call(arguments,1),(function(t){(this.isObject(t)?Object.keys(t):[]).forEach(function(n){this.isUndefined(t[n])||(e[n]=t[n])}.bind(this))}),this),e},defaults:function(e){return this.each(a.call(arguments,1),(function(t){(this.isObject(t)?Object.keys(t):[]).forEach(function(n){this.isUndefined(e[n])&&(e[n]=t[n])}.bind(this))}),this),e},compose:function(){var e=a.call(arguments);return function(){for(var t=a.call(arguments),n=e.length-1;0<=n;n--)t=[e[n].apply(this,t)];return t[0]}},each:function(e,t,n){if(e)if(r&&e.forEach&&e.forEach===r)e.forEach(t,n);else if(e.length===e.length+0){var o,i=void 0;for(i=0,o=e.length;i<o;i++)if(i in e&&t.call(n,e[i],i)===this.BREAK)return}else for(var a in e)if(t.call(n,e[a],a)===this.BREAK)return},defer:function(e){setTimeout(e,0)},debounce:function(e,t,n){var o=void 0;return function(){var i=this,r=arguments,a=n||!o;clearTimeout(o),o=setTimeout((function(){o=null,n||e.apply(i,r)}),t),a&&e.apply(i,r)}},toArray:function(e){return e.toArray?e.toArray():a.call(e)},isUndefined:function(e){return void 0===e},isNull:function(e){return null===e},isNaN:(i=function(e){return isNaN(e)},c.toString=function(){return i.toString()},c),isArray:Array.isArray||function(e){return e.constructor===Array},isObject:function(e){return e===Object(e)},isNumber:function(e){return e===e+0},isString:function(e){return e===e+""},isBoolean:function(e){return!1===e||!0===e},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)}};function c(e){return i.apply(this,arguments)}function l(e){h=!1;var t=1<arguments.length?s.toArray(arguments):e;return s.each(d,(function(e){if(e.litmus(t))return s.each(e.conversions,(function(e,n){if(f=e.read(t),!1===h&&!1!==f)return(h=f).conversionName=n,f.conversion=e,s.BREAK})),s.BREAK})),h}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var d=[{litmus:s.isString,conversions:{THREE_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==t&&{space:"HEX",hex:parseInt("0x"+t[1].toString()+t[1].toString()+t[2].toString()+t[2].toString()+t[3].toString()+t[3].toString(),0)}},write:o},SIX_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9]{6})$/i);return null!==t&&{space:"HEX",hex:parseInt("0x"+t[1].toString(),0)}},write:o},CSS_RGB:{read:function(e){var t=e.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==t&&{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3])}},write:o},CSS_RGBA:{read:function(e){var t=e.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==t&&{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3]),a:parseFloat(t[4])}},write:o}}},{litmus:s.isNumber,conversions:{HEX:{read:function(e){return{space:"HEX",hex:e,conversionName:"HEX"}},write:function(e){return e.hex}}}},{litmus:s.isArray,conversions:{RGB_ARRAY:{read:function(e){return 3===e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2]}},write:function(e){return[e.r,e.g,e.b]}},RGBA_ARRAY:{read:function(e){return 4===e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2],a:e[3]}},write:function(e){return[e.r,e.g,e.b,e.a]}}}},{litmus:s.isObject,conversions:{RGBA_OBJ:{read:function(e){return!!(s.isNumber(e.r)&&s.isNumber(e.g)&&s.isNumber(e.b)&&s.isNumber(e.a))&&{space:"RGB",r:e.r,g:e.g,b:e.b,a:e.a}},write:function(e){return{r:e.r,g:e.g,b:e.b,a:e.a}}},RGB_OBJ:{read:function(e){return!!(s.isNumber(e.r)&&s.isNumber(e.g)&&s.isNumber(e.b))&&{space:"RGB",r:e.r,g:e.g,b:e.b}},write:function(e){return{r:e.r,g:e.g,b:e.b}}},HSVA_OBJ:{read:function(e){return!!(s.isNumber(e.h)&&s.isNumber(e.s)&&s.isNumber(e.v)&&s.isNumber(e.a))&&{space:"HSV",h:e.h,s:e.s,v:e.v,a:e.a}},write:function(e){return{h:e.h,s:e.s,v:e.v,a:e.a}}},HSV_OBJ:{read:function(e){return!!(s.isNumber(e.h)&&s.isNumber(e.s)&&s.isNumber(e.v))&&{space:"HSV",h:e.h,s:e.s,v:e.v}},write:function(e){return{h:e.h,s:e.s,v:e.v}}}}}],f=void 0,h=void 0,p=void 0,_={hsv_to_rgb:function(e,t,n){var o=Math.floor(e/60)%6,i=e/60-Math.floor(e/60),r=n*(1-t),a=n*(1-i*t),s=n*(1-(1-i)*t),c=[[n,s,r],[a,n,r],[r,n,s],[r,a,n],[s,r,n],[n,r,a]][o];return{r:255*c[0],g:255*c[1],b:255*c[2]}},rgb_to_hsv:function(e,t,n){var o=Math.min(e,t,n),i=Math.max(e,t,n),r=i-o,a=void 0;return 0===i?{h:NaN,s:0,v:0}:(a=e===i?(t-n)/r:t===i?2+(n-e)/r:4+(e-t)/r,(a/=6)<0&&(a+=1),{h:360*a,s:r/i,v:i/255})},rgb_to_hex:function(e,t,n){var o=this.hex_with_component(0,2,e);return o=this.hex_with_component(o,1,t),this.hex_with_component(o,0,n)},component_from_hex:function(e,t){return e>>8*t&255},hex_with_component:function(e,t,n){return n<<(p=8*t)|e&~(255<<p)}},m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v=function(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),e};function g(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function b(e,t,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,t);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:b(i,t,n)}if("value"in o)return o.value;var r=o.get;return void 0!==r?r.call(n):void 0}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var w=(v(E,[{key:"toString",value:function(){return o(this)}},{key:"toHexString",value:function(){return o(this,!0)}},{key:"toOriginal",value:function(){return this.__state.conversion.write(this)}}]),E);function E(){if(u(this,E),this.__state=l.apply(this,arguments),!1===this.__state)throw new Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}function S(e,t,n){Object.defineProperty(e,t,{get:function(){return"RGB"===this.__state.space||w.recalculateRGB(this,t,n),this.__state[t]},set:function(e){"RGB"!==this.__state.space&&(w.recalculateRGB(this,t,n),this.__state.space="RGB"),this.__state[t]=e}})}function C(e,t){Object.defineProperty(e,t,{get:function(){return"HSV"===this.__state.space||w.recalculateHSV(this),this.__state[t]},set:function(e){"HSV"!==this.__state.space&&(w.recalculateHSV(this),this.__state.space="HSV"),this.__state[t]=e}})}w.recalculateRGB=function(e,t,n){if("HEX"===e.__state.space)e.__state[t]=_.component_from_hex(e.__state.hex,n);else{if("HSV"!==e.__state.space)throw new Error("Corrupted color state");s.extend(e.__state,_.hsv_to_rgb(e.__state.h,e.__state.s,e.__state.v))}},w.recalculateHSV=function(e){var t=_.rgb_to_hsv(e.r,e.g,e.b);s.extend(e.__state,{s:t.s,v:t.v}),s.isNaN(t.h)?s.isUndefined(e.__state.h)&&(e.__state.h=0):e.__state.h=t.h},w.COMPONENTS=["r","g","b","h","s","v","hex","a"],S(w.prototype,"r",2),S(w.prototype,"g",1),S(w.prototype,"b",0),C(w.prototype,"h"),C(w.prototype,"s"),C(w.prototype,"v"),Object.defineProperty(w.prototype,"a",{get:function(){return this.__state.a},set:function(e){this.__state.a=e}}),Object.defineProperty(w.prototype,"hex",{get:function(){return"HEX"!==!this.__state.space&&(this.__state.hex=_.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(e){this.__state.space="HEX",this.__state.hex=e}});var A=(v(k,[{key:"onChange",value:function(e){return this.__onChange=e,this}},{key:"onFinishChange",value:function(e){return this.__onFinishChange=e,this}},{key:"setValue",value:function(e){return this.object[this.property]=e,this.__onChange&&this.__onChange.call(this,e),this.updateDisplay(),this}},{key:"getValue",value:function(){return this.object[this.property]}},{key:"updateDisplay",value:function(){return this}},{key:"isModified",value:function(){return this.initialValue!==this.getValue()}}]),k);function k(e,t){u(this,k),this.initialValue=e[t],this.domElement=document.createElement("div"),this.object=e,this.property=t,this.__onChange=void 0,this.__onFinishChange=void 0}var O={};s.each({HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},(function(e,t){s.each(e,(function(e){O[e]=t}))}));var T=/(\d+(\.\d+)?)px/;function L(e){if("0"===e||s.isUndefined(e))return 0;var t=e.match(T);return s.isNull(t)?0:parseFloat(t[1])}var R={makeSelectable:function(e,t){void 0!==e&&void 0!==e.style&&(e.onselectstart=t?function(){return!1}:function(){},e.style.MozUserSelect=t?"auto":"none",e.style.KhtmlUserSelect=t?"auto":"none",e.unselectable=t?"on":"off")},makeFullscreen:function(e,t,n){var o=n,i=t;s.isUndefined(i)&&(i=!0),s.isUndefined(o)&&(o=!0),e.style.position="absolute",i&&(e.style.left=0,e.style.right=0),o&&(e.style.top=0,e.style.bottom=0)},fakeEvent:function(e,t,n,o){var i=n||{},r=O[t];if(!r)throw new Error("Event type "+t+" not supported.");var a=document.createEvent(r);switch(r){case"MouseEvents":var c=i.x||i.clientX||0,l=i.y||i.clientY||0;a.initMouseEvent(t,i.bubbles||!1,i.cancelable||!0,window,i.clickCount||1,0,0,c,l,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var u=a.initKeyboardEvent||a.initKeyEvent;s.defaults(i,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),u(t,i.bubbles||!1,i.cancelable,window,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.keyCode,i.charCode);break;default:a.initEvent(t,i.bubbles||!1,i.cancelable||!0)}s.defaults(a,o),e.dispatchEvent(a)},bind:function(e,t,n,o){var i=o||!1;return e.addEventListener?e.addEventListener(t,n,i):e.attachEvent&&e.attachEvent("on"+t,n),R},unbind:function(e,t,n,o){var i=o||!1;return e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent&&e.detachEvent("on"+t,n),R},addClass:function(e,t){if(void 0===e.className)e.className=t;else if(e.className!==t){var n=e.className.split(/ +/);-1===n.indexOf(t)&&(n.push(t),e.className=n.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return R},removeClass:function(e,t){if(t)if(e.className===t)e.removeAttribute("class");else{var n=e.className.split(/ +/),o=n.indexOf(t);-1!==o&&(n.splice(o,1),e.className=n.join(" "))}else e.className=void 0;return R},hasClass:function(e,t){return new RegExp("(?:^|\\s+)"+t+"(?:\\s+|$)").test(e.className)||!1},getWidth:function(e){var t=getComputedStyle(e);return L(t["border-left-width"])+L(t["border-right-width"])+L(t["padding-left"])+L(t["padding-right"])+L(t.width)},getHeight:function(e){var t=getComputedStyle(e);return L(t["border-top-width"])+L(t["border-bottom-width"])+L(t["padding-top"])+L(t["padding-bottom"])+L(t.height)},getOffset:function(e){var t=e,n={left:0,top:0};if(t.offsetParent)for(;n.left+=t.offsetLeft,n.top+=t.offsetTop,t=t.offsetParent;);return n},isActive:function(e){return e===document.activeElement&&(e.type||e.href)}},I=(y(P,A),v(P,[{key:"setValue",value:function(e){var t=b(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"setValue",this).call(this,e);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),t}},{key:"updateDisplay",value:function(){return!0===this.getValue()?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),b(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"updateDisplay",this).call(this)}}]),P);function P(e,t){u(this,P);var n=x(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,e,t)),o=n;return n.__prev=n.getValue(),n.__checkbox=document.createElement("input"),n.__checkbox.setAttribute("type","checkbox"),R.bind(n.__checkbox,"change",(function(){o.setValue(!o.__prev)}),!1),n.domElement.appendChild(n.__checkbox),n.updateDisplay(),n}var j=(y(N,A),v(N,[{key:"setValue",value:function(e){var t=b(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"setValue",this).call(this,e);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),t}},{key:"updateDisplay",value:function(){return R.isActive(this.__select)?this:(this.__select.value=this.getValue(),b(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"updateDisplay",this).call(this))}}]),N);function N(e,t,n){u(this,N);var o=x(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,e,t)),i=n,r=o;if(o.__select=document.createElement("select"),s.isArray(i)){var a={};s.each(i,(function(e){a[e]=e})),i=a}return s.each(i,(function(e,t){var n=document.createElement("option");n.innerHTML=t,n.setAttribute("value",e),r.__select.appendChild(n)})),o.updateDisplay(),R.bind(o.__select,"change",(function(){var e=this.options[this.selectedIndex].value;r.setValue(e)})),o.domElement.appendChild(o.__select),o}var H=(y(M,A),v(M,[{key:"updateDisplay",value:function(){return R.isActive(this.__input)||(this.__input.value=this.getValue()),b(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"updateDisplay",this).call(this)}}]),M);function M(e,t){u(this,M);var n=x(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,e,t)),o=n;function i(){o.setValue(o.__input.value)}return n.__input=document.createElement("input"),n.__input.setAttribute("type","text"),R.bind(n.__input,"keyup",i),R.bind(n.__input,"change",i),R.bind(n.__input,"blur",(function(){o.__onFinishChange&&o.__onFinishChange.call(o,o.getValue())})),R.bind(n.__input,"keydown",(function(e){13===e.keyCode&&this.blur()})),n.updateDisplay(),n.domElement.appendChild(n.__input),n}function D(e){var t=e.toString();return-1<t.indexOf(".")?t.length-t.indexOf(".")-1:0}var F=(y(V,A),v(V,[{key:"setValue",value:function(e){var t=e;return void 0!==this.__min&&t<this.__min?t=this.__min:void 0!==this.__max&&t>this.__max&&(t=this.__max),void 0!==this.__step&&t%this.__step!=0&&(t=Math.round(t/this.__step)*this.__step),b(V.prototype.__proto__||Object.getPrototypeOf(V.prototype),"setValue",this).call(this,t)}},{key:"min",value:function(e){return this.__min=e,this}},{key:"max",value:function(e){return this.__max=e,this}},{key:"step",value:function(e){return this.__step=e,this.__impliedStep=e,this.__precision=D(e),this}}]),V);function V(e,t,n){u(this,V);var o=x(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,e,t)),i=n||{};return o.__min=i.min,o.__max=i.max,o.__step=i.step,s.isUndefined(o.__step)?0===o.initialValue?o.__impliedStep=1:o.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(o.initialValue))/Math.LN10))/10:o.__impliedStep=o.__step,o.__precision=D(o.__impliedStep),o}var z=(y(B,F),v(B,[{key:"updateDisplay",value:function(){var e,t,n;return this.__input.value=this.__truncationSuspended?this.getValue():(e=this.getValue(),t=this.__precision,n=Math.pow(10,t),Math.round(e*n)/n),b(B.prototype.__proto__||Object.getPrototypeOf(B.prototype),"updateDisplay",this).call(this)}}]),B);function B(e,t,n){u(this,B);var o=x(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,e,t,n));o.__truncationSuspended=!1;var i=o,r=void 0;function a(){i.__onFinishChange&&i.__onFinishChange.call(i,i.getValue())}function c(e){var t=r-e.clientY;i.setValue(i.getValue()+t*i.__impliedStep),r=e.clientY}function l(){R.unbind(window,"mousemove",c),R.unbind(window,"mouseup",l),a()}return o.__input=document.createElement("input"),o.__input.setAttribute("type","text"),R.bind(o.__input,"change",(function(){var e=parseFloat(i.__input.value);s.isNaN(e)||i.setValue(e)})),R.bind(o.__input,"blur",(function(){a()})),R.bind(o.__input,"mousedown",(function(e){R.bind(window,"mousemove",c),R.bind(window,"mouseup",l),r=e.clientY})),R.bind(o.__input,"keydown",(function(e){13===e.keyCode&&(i.__truncationSuspended=!0,this.blur(),i.__truncationSuspended=!1,a())})),o.updateDisplay(),o.domElement.appendChild(o.__input),o}function G(e,t,n,o,i){return o+(e-t)/(n-t)*(i-o)}var U=(y(W,F),v(W,[{key:"updateDisplay",value:function(){var e=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*e+"%",b(W.prototype.__proto__||Object.getPrototypeOf(W.prototype),"updateDisplay",this).call(this)}}]),W);function W(e,t,n,o,i){u(this,W);var r=x(this,(W.__proto__||Object.getPrototypeOf(W)).call(this,e,t,{min:n,max:o,step:i})),a=r;function s(e){e.preventDefault();var t=a.__background.getBoundingClientRect();return a.setValue(G(e.clientX,t.left,t.right,a.__min,a.__max)),!1}function c(){R.unbind(window,"mousemove",s),R.unbind(window,"mouseup",c),a.__onFinishChange&&a.__onFinishChange.call(a,a.getValue())}function l(e){var t=e.touches[0].clientX,n=a.__background.getBoundingClientRect();a.setValue(G(t,n.left,n.right,a.__min,a.__max))}function d(){R.unbind(window,"touchmove",l),R.unbind(window,"touchend",d),a.__onFinishChange&&a.__onFinishChange.call(a,a.getValue())}return r.__background=document.createElement("div"),r.__foreground=document.createElement("div"),R.bind(r.__background,"mousedown",(function(e){document.activeElement.blur(),R.bind(window,"mousemove",s),R.bind(window,"mouseup",c),s(e)})),R.bind(r.__background,"touchstart",(function(e){1===e.touches.length&&(R.bind(window,"touchmove",l),R.bind(window,"touchend",d),l(e))})),R.addClass(r.__background,"slider"),R.addClass(r.__foreground,"slider-fg"),r.updateDisplay(),r.__background.appendChild(r.__foreground),r.domElement.appendChild(r.__background),r}var X=(y(Y,A),v(Y,[{key:"fire",value:function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())}}]),Y);function Y(e,t,n){u(this,Y);var o=x(this,(Y.__proto__||Object.getPrototypeOf(Y)).call(this,e,t)),i=o;return o.__button=document.createElement("div"),o.__button.innerHTML=void 0===n?"Fire":n,R.bind(o.__button,"click",(function(e){return e.preventDefault(),i.fire(),!1})),R.addClass(o.__button,"button"),o.domElement.appendChild(o.__button),o}var K=(y(J,A),v(J,[{key:"updateDisplay",value:function(){var e=l(this.getValue());if(!1!==e){var t=!1;s.each(w.COMPONENTS,(function(n){if(!s.isUndefined(e[n])&&!s.isUndefined(this.__color.__state[n])&&e[n]!==this.__color.__state[n])return t=!0,{}}),this),t&&s.extend(this.__color.__state,e)}s.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var n=this.__color.v<.5||.5<this.__color.s?255:0,o=255-n;s.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+n+","+n+","+n+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,q(this.__saturation_field,"left","#fff",this.__temp.toHexString()),this.__input.value=this.__color.toString(),s.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+n+","+n+","+n+")",textShadow:this.__input_textShadow+"rgba("+o+","+o+","+o+",.7)"})}}]),J);function J(e,t){u(this,J);var n=x(this,(J.__proto__||Object.getPrototypeOf(J)).call(this,e,t));n.__color=new w(n.getValue()),n.__temp=new w(0);var o=n;n.domElement=document.createElement("div"),R.makeSelectable(n.domElement,!1),n.__selector=document.createElement("div"),n.__selector.className="selector",n.__saturation_field=document.createElement("div"),n.__saturation_field.className="saturation-field",n.__field_knob=document.createElement("div"),n.__field_knob.className="field-knob",n.__field_knob_border="2px solid ",n.__hue_knob=document.createElement("div"),n.__hue_knob.className="hue-knob",n.__hue_field=document.createElement("div"),n.__hue_field.className="hue-field",n.__input=document.createElement("input"),n.__input.type="text",n.__input_textShadow="0 1px 1px ",R.bind(n.__input,"keydown",(function(e){13===e.keyCode&&h.call(this)})),R.bind(n.__input,"blur",h),R.bind(n.__selector,"mousedown",(function(){R.addClass(this,"drag").bind(window,"mouseup",(function(){R.removeClass(o.__selector,"drag")}))})),R.bind(n.__selector,"touchstart",(function(){R.addClass(this,"drag").bind(window,"touchend",(function(){R.removeClass(o.__selector,"drag")}))}));var i,r=document.createElement("div");function a(e){_(e),R.bind(window,"mousemove",_),R.bind(window,"touchmove",_),R.bind(window,"mouseup",d),R.bind(window,"touchend",d)}function c(e){m(e),R.bind(window,"mousemove",m),R.bind(window,"touchmove",m),R.bind(window,"mouseup",f),R.bind(window,"touchend",f)}function d(){R.unbind(window,"mousemove",_),R.unbind(window,"touchmove",_),R.unbind(window,"mouseup",d),R.unbind(window,"touchend",d),p()}function f(){R.unbind(window,"mousemove",m),R.unbind(window,"touchmove",m),R.unbind(window,"mouseup",f),R.unbind(window,"touchend",f),p()}function h(){var e=l(this.value);!1!==e?(o.__color.__state=e,o.setValue(o.__color.toOriginal())):this.value=o.__color.toString()}function p(){o.__onFinishChange&&o.__onFinishChange.call(o,o.__color.toOriginal())}function _(e){-1===e.type.indexOf("touch")&&e.preventDefault();var t=o.__saturation_field.getBoundingClientRect(),n=e.touches&&e.touches[0]||e,i=n.clientX,r=n.clientY,a=(i-t.left)/(t.right-t.left),s=1-(r-t.top)/(t.bottom-t.top);return 1<s?s=1:s<0&&(s=0),1<a?a=1:a<0&&(a=0),o.__color.v=s,o.__color.s=a,o.setValue(o.__color.toOriginal()),!1}function m(e){-1===e.type.indexOf("touch")&&e.preventDefault();var t=o.__hue_field.getBoundingClientRect(),n=1-((e.touches&&e.touches[0]||e).clientY-t.top)/(t.bottom-t.top);return 1<n?n=1:n<0&&(n=0),o.__color.h=360*n,o.setValue(o.__color.toOriginal()),!1}return s.extend(n.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),s.extend(n.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:n.__field_knob_border+(n.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),s.extend(n.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),s.extend(n.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),s.extend(r.style,{width:"100%",height:"100%",background:"none"}),q(r,"top","rgba(0,0,0,0)","#000"),s.extend(n.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"}),(i=n.__hue_field).style.background="",i.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",i.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",i.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",i.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",i.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",s.extend(n.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:n.__input_textShadow+"rgba(0,0,0,0.7)"}),R.bind(n.__saturation_field,"mousedown",a),R.bind(n.__saturation_field,"touchstart",a),R.bind(n.__field_knob,"mousedown",a),R.bind(n.__field_knob,"touchstart",a),R.bind(n.__hue_field,"mousedown",c),R.bind(n.__hue_field,"touchstart",c),n.__saturation_field.appendChild(r),n.__selector.appendChild(n.__field_knob),n.__selector.appendChild(n.__saturation_field),n.__selector.appendChild(n.__hue_field),n.__hue_field.appendChild(n.__hue_knob),n.domElement.appendChild(n.__input),n.domElement.appendChild(n.__selector),n.updateDisplay(),n}var Q=["-moz-","-o-","-webkit-","-ms-",""];function q(e,t,n,o){e.style.background="",s.each(Q,(function(i){e.style.cssText+="background: "+i+"linear-gradient("+t+", "+n+" 0%, "+o+" 100%); "}))}var Z=function(e,t,n,o,i){var r=e[t];return s.isArray(n)||s.isObject(n)?new j(e,t,n):s.isNumber(r)?s.isNumber(n)&&s.isNumber(o)?s.isNumber(i)?new U(e,t,n,o,i):new U(e,t,n,o):s.isNumber(i)?new z(e,t,{min:n,max:o,step:i}):new z(e,t,{min:n,max:o}):s.isString(r)?new H(e,t):s.isFunction(r)?new X(e,t,""):s.isBoolean(r)?new I(e,t):null},$=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)},ee=(v(te,[{key:"show",value:function(){var e=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),s.defer((function(){e.backgroundElement.style.opacity=1,e.domElement.style.opacity=1,e.domElement.style.webkitTransform="scale(1)"}))}},{key:"hide",value:function(){function e(){t.domElement.style.display="none",t.backgroundElement.style.display="none",R.unbind(t.domElement,"webkitTransitionEnd",e),R.unbind(t.domElement,"transitionend",e),R.unbind(t.domElement,"oTransitionEnd",e)}var t=this;R.bind(this.domElement,"webkitTransitionEnd",e),R.bind(this.domElement,"transitionend",e),R.bind(this.domElement,"oTransitionEnd",e),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"}},{key:"layout",value:function(){this.domElement.style.left=window.innerWidth/2-R.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-R.getHeight(this.domElement)/2+"px"}}]),te);function te(){u(this,te),this.backgroundElement=document.createElement("div"),s.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),R.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),s.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var e=this;R.bind(this.backgroundElement,"click",(function(){e.hide()}))}!function(e,t){var n=t||document,o=document.createElement("style");o.type="text/css",o.innerHTML=e;var i=n.getElementsByTagName("head")[0];try{i.appendChild(o)}catch(e){}}(function(e){if("undefined"!=typeof window){var t=document.createElement("style");return t.setAttribute("type","text/css"),t.innerHTML=e,document.head.appendChild(t),e}}(".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n"));var ne="Default",oe=function(){try{return!!window.localStorage}catch(e){return!1}}(),ie=void 0,re=!0,ae=void 0,se=!1,ce=[],le=function e(t){var n=this,o=t||{};this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),R.addClass(this.domElement,"dg"),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],o=s.defaults(o,{closeOnTop:!1,autoPlace:!0,width:e.DEFAULT_WIDTH}),o=s.defaults(o,{resizable:o.autoPlace,hideable:o.autoPlace}),s.isUndefined(o.load)?o.load={preset:ne}:o.preset&&(o.load.preset=o.preset),s.isUndefined(o.parent)&&o.hideable&&ce.push(this),o.resizable=s.isUndefined(o.parent)&&o.resizable,o.autoPlace&&s.isUndefined(o.scrollable)&&(o.scrollable=!0);var i,r,a,c=oe&&"true"===localStorage.getItem(_e(this,"isLocal")),l=void 0,u=void 0;if(Object.defineProperties(this,{parent:{get:function(){return o.parent}},scrollable:{get:function(){return o.scrollable}},autoPlace:{get:function(){return o.autoPlace}},closeOnTop:{get:function(){return o.closeOnTop}},preset:{get:function(){return n.parent?n.getRoot().preset:o.load.preset},set:function(e){n.parent?n.getRoot().preset=e:o.load.preset=e,function(e){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].value===e.preset&&(e.__preset_select.selectedIndex=t)}(this),n.revert()}},width:{get:function(){return o.width},set:function(e){o.width=e,ge(n,e)}},name:{get:function(){return o.name},set:function(e){o.name=e,u&&(u.innerHTML=o.name)}},closed:{get:function(){return o.closed},set:function(t){o.closed=t,o.closed?R.addClass(n.__ul,e.CLASS_CLOSED):R.removeClass(n.__ul,e.CLASS_CLOSED),this.onResize(),n.__closeButton&&(n.__closeButton.innerHTML=t?e.TEXT_OPEN:e.TEXT_CLOSED)}},load:{get:function(){return o.load}},useLocalStorage:{get:function(){return c},set:function(e){oe&&((c=e)?R.bind(window,"unload",l):R.unbind(window,"unload",l),localStorage.setItem(_e(n,"isLocal"),e))}}}),s.isUndefined(o.parent)){if(this.closed=o.closed||!1,R.addClass(this.domElement,e.CLASS_MAIN),R.makeSelectable(this.domElement,!1),oe&&c){n.useLocalStorage=!0;var d=localStorage.getItem(_e(this,"gui"));d&&(o.load=JSON.parse(d))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=e.TEXT_CLOSED,R.addClass(this.__closeButton,e.CLASS_CLOSE_BUTTON),o.closeOnTop?(R.addClass(this.__closeButton,e.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(R.addClass(this.__closeButton,e.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),R.bind(this.__closeButton,"click",(function(){n.closed=!n.closed}))}else{void 0===o.closed&&(o.closed=!0);var f=document.createTextNode(o.name);R.addClass(f,"controller-name"),u=ue(n,f),R.addClass(this.__ul,e.CLASS_CLOSED),R.addClass(u,"title"),R.bind(u,"click",(function(e){return e.preventDefault(),n.closed=!n.closed,!1})),o.closed||(this.closed=!1)}function h(e){return e.preventDefault(),i.width+=r-e.clientX,i.onResize(),r=e.clientX,!1}function p(){R.removeClass(i.__closeButton,le.CLASS_DRAG),R.unbind(window,"mousemove",h),R.unbind(window,"mouseup",p)}function _(e){return e.preventDefault(),r=e.clientX,R.addClass(i.__closeButton,le.CLASS_DRAG),R.bind(window,"mousemove",h),R.bind(window,"mouseup",p),!1}o.autoPlace&&(s.isUndefined(o.parent)&&(re&&(ae=document.createElement("div"),R.addClass(ae,"dg"),R.addClass(ae,e.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(ae),re=!1),ae.appendChild(this.domElement),R.addClass(this.domElement,e.CLASS_AUTO_PLACE)),this.parent||ge(n,o.width)),this.__resizeHandler=function(){n.onResizeDebounced()},R.bind(window,"resize",this.__resizeHandler),R.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler),R.bind(this.__ul,"transitionend",this.__resizeHandler),R.bind(this.__ul,"oTransitionEnd",this.__resizeHandler),this.onResize(),o.resizable&&(r=void 0,(i=this).__resize_handle=document.createElement("div"),s.extend(i.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"}),R.bind(i.__resize_handle,"mousedown",_),R.bind(i.__closeButton,"mousedown",_),i.domElement.insertBefore(i.__resize_handle,i.domElement.firstElementChild)),l=function(){oe&&"true"===localStorage.getItem(_e(n,"isLocal"))&&localStorage.setItem(_e(n,"gui"),JSON.stringify(n.getSaveObject()))},this.saveToLocalStorageIfPossible=l,o.parent||((a=n.getRoot()).width+=1,s.defer((function(){--a.width})))};function ue(e,t,n){var o=document.createElement("li");return t&&o.appendChild(t),n?e.__ul.insertBefore(o,n):e.__ul.appendChild(o),e.onResize(),o}function de(e){R.unbind(window,"resize",e.__resizeHandler),e.saveToLocalStorageIfPossible&&R.unbind(window,"unload",e.saveToLocalStorageIfPossible)}function fe(e,t){var n=e.__preset_select[e.__preset_select.selectedIndex];n.innerHTML=t?n.value+"*":n.value}function he(e,t){var n=e.getRoot(),o=n.__rememberedObjects.indexOf(t.object);if(-1!==o){var i=n.__rememberedObjectIndecesToControllers[o];if(void 0===i&&(i={},n.__rememberedObjectIndecesToControllers[o]=i),i[t.property]=t,n.load&&n.load.remembered){var r=n.load.remembered,a=void 0;if(r[e.preset])a=r[e.preset];else{if(!r[ne])return;a=r[ne]}if(a[o]&&void 0!==a[o][t.property]){var s=a[o][t.property];t.initialValue=s,t.setValue(s)}}}}function pe(e,t,n,o){if(void 0===t[n])throw new Error('Object "'+t+'" has no property "'+n+'"');var i=void 0;if(o.color)i=new K(t,n);else{var r=[t,n].concat(o.factoryArgs);i=Z.apply(e,r)}o.before instanceof A&&(o.before=o.before.__li),he(e,i),R.addClass(i.domElement,"c");var a=document.createElement("span");R.addClass(a,"property-name"),a.innerHTML=i.property;var c=document.createElement("div");c.appendChild(a),c.appendChild(i.domElement);var l=ue(e,c,o.before);return R.addClass(l,le.CLASS_CONTROLLER_ROW),i instanceof K?R.addClass(l,"color"):R.addClass(l,m(i.getValue())),function(e,t,n){if(n.__li=t,n.__gui=e,s.extend(n,{options:function(t){if(1<arguments.length){var o=n.__li.nextElementSibling;return n.remove(),pe(e,n.object,n.property,{before:o,factoryArgs:[s.toArray(arguments)]})}if(s.isArray(t)||s.isObject(t)){var i=n.__li.nextElementSibling;return n.remove(),pe(e,n.object,n.property,{before:i,factoryArgs:[t]})}},name:function(e){return n.__li.firstElementChild.firstElementChild.innerHTML=e,n},listen:function(){return n.__gui.listen(n),n},remove:function(){return n.__gui.remove(n),n}}),n instanceof U){var o=new z(n.object,n.property,{min:n.__min,max:n.__max,step:n.__step});s.each(["updateDisplay","onChange","onFinishChange","step","min","max"],(function(e){var t=n[e],i=o[e];n[e]=o[e]=function(){var e=Array.prototype.slice.call(arguments);return i.apply(o,e),t.apply(n,e)}})),R.addClass(t,"has-slider"),n.domElement.insertBefore(o.domElement,n.domElement.firstElementChild)}else if(n instanceof z){var i=function(t){if(s.isNumber(n.__min)&&s.isNumber(n.__max)){var o=n.__li.firstElementChild.firstElementChild.innerHTML,i=-1<n.__gui.__listening.indexOf(n);n.remove();var r=pe(e,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[n.__min,n.__max,n.__step]});return r.name(o),i&&r.listen(),r}return t};n.min=s.compose(i,n.min),n.max=s.compose(i,n.max)}else n instanceof I?(R.bind(t,"click",(function(){R.fakeEvent(n.__checkbox,"click")})),R.bind(n.__checkbox,"click",(function(e){e.stopPropagation()}))):n instanceof X?(R.bind(t,"click",(function(){R.fakeEvent(n.__button,"click")})),R.bind(t,"mouseover",(function(){R.addClass(n.__button,"hover")})),R.bind(t,"mouseout",(function(){R.removeClass(n.__button,"hover")}))):n instanceof K&&(R.addClass(t,"color"),n.updateDisplay=s.compose((function(e){return t.style.borderLeftColor=n.__color.toString(),e}),n.updateDisplay),n.updateDisplay());n.setValue=s.compose((function(t){return e.getRoot().__preset_select&&n.isModified()&&fe(e.getRoot(),!0),t}),n.setValue)}(e,l,i),e.__controllers.push(i),i}function _e(e,t){return document.location.href+"."+t}function me(e,t,n){var o=document.createElement("option");o.innerHTML=t,o.value=t,e.__preset_select.appendChild(o),n&&(e.__preset_select.selectedIndex=e.__preset_select.length-1)}function ve(e,t){t.style.display=e.useLocalStorage?"block":"none"}function ge(e,t){e.domElement.style.width=t+"px",e.__save_row&&e.autoPlace&&(e.__save_row.style.width=t+"px"),e.__closeButton&&(e.__closeButton.style.width=t+"px")}function be(e,t){var n={};return s.each(e.__rememberedObjects,(function(o,i){var r={},a=e.__rememberedObjectIndecesToControllers[i];s.each(a,(function(e,n){r[n]=t?e.initialValue:e.getValue()})),n[i]=r})),n}le.toggleHide=function(){se=!se,s.each(ce,(function(e){e.domElement.style.display=se?"none":""}))},le.CLASS_AUTO_PLACE="a",le.CLASS_AUTO_PLACE_CONTAINER="ac",le.CLASS_MAIN="main",le.CLASS_CONTROLLER_ROW="cr",le.CLASS_TOO_TALL="taller-than-window",le.CLASS_CLOSED="closed",le.CLASS_CLOSE_BUTTON="close-button",le.CLASS_CLOSE_TOP="close-top",le.CLASS_CLOSE_BOTTOM="close-bottom",le.CLASS_DRAG="drag",le.DEFAULT_WIDTH=245,le.TEXT_CLOSED="Close Controls",le.TEXT_OPEN="Open Controls",le._keydownHandler=function(e){"text"===document.activeElement.type||72!==e.which&&72!==e.keyCode||le.toggleHide()},R.bind(window,"keydown",le._keydownHandler,!1),s.extend(le.prototype,{add:function(e,t){return pe(this,e,t,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(e,t){return pe(this,e,t,{color:!0})},remove:function(e){this.__ul.removeChild(e.__li),this.__controllers.splice(this.__controllers.indexOf(e),1);var t=this;s.defer((function(){t.onResize()}))},destroy:function(){if(this.parent)throw new Error("Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.");this.autoPlace&&ae.removeChild(this.domElement);var e=this;s.each(this.__folders,(function(t){e.removeFolder(t)})),R.unbind(window,"keydown",le._keydownHandler,!1),de(this)},addFolder:function(e){if(void 0!==this.__folders[e])throw new Error('You already have a folder in this GUI by the name "'+e+'"');var t={name:e,parent:this};t.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[e]&&(t.closed=this.load.folders[e].closed,t.load=this.load.folders[e]);var n=new le(t);this.__folders[e]=n;var o=ue(this,n.domElement);return R.addClass(o,"folder"),n},removeFolder:function(e){this.__ul.removeChild(e.domElement.parentElement),delete this.__folders[e.name],this.load&&this.load.folders&&this.load.folders[e.name]&&delete this.load.folders[e.name],de(e);var t=this;s.each(e.__folders,(function(t){e.removeFolder(t)})),s.defer((function(){t.onResize()}))},open:function(){this.closed=!1},close:function(){this.closed=!0},hide:function(){this.domElement.style.display="none"},show:function(){this.domElement.style.display=""},onResize:function(){var e=this.getRoot();if(e.scrollable){var t=R.getOffset(e.__ul).top,n=0;s.each(e.__ul.childNodes,(function(t){e.autoPlace&&t===e.__save_row||(n+=R.getHeight(t))})),window.innerHeight-t-20<n?(R.addClass(e.domElement,le.CLASS_TOO_TALL),e.__ul.style.height=window.innerHeight-t-20+"px"):(R.removeClass(e.domElement,le.CLASS_TOO_TALL),e.__ul.style.height="auto")}e.__resize_handle&&s.defer((function(){e.__resize_handle.style.height=e.__ul.offsetHeight+"px"})),e.__closeButton&&(e.__closeButton.style.width=e.width+"px")},onResizeDebounced:s.debounce((function(){this.onResize()}),50),remember:function(){if(s.isUndefined(ie)&&((ie=new ee).domElement.innerHTML='<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>'),this.parent)throw new Error("You can only call remember on a top level GUI.");var e=this;s.each(Array.prototype.slice.call(arguments),(function(t){0===e.__rememberedObjects.length&&function(e){var t=e.__save_row=document.createElement("li");R.addClass(e.domElement,"has-save"),e.__ul.insertBefore(t,e.__ul.firstChild),R.addClass(t,"save-row");var n=document.createElement("span");n.innerHTML="&nbsp;",R.addClass(n,"button gears");var o=document.createElement("span");o.innerHTML="Save",R.addClass(o,"button"),R.addClass(o,"save");var i=document.createElement("span");i.innerHTML="New",R.addClass(i,"button"),R.addClass(i,"save-as");var r=document.createElement("span");r.innerHTML="Revert",R.addClass(r,"button"),R.addClass(r,"revert");var a=e.__preset_select=document.createElement("select");if(e.load&&e.load.remembered?s.each(e.load.remembered,(function(t,n){me(e,n,n===e.preset)})):me(e,ne,!1),R.bind(a,"change",(function(){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].innerHTML=e.__preset_select[t].value;e.preset=this.value})),t.appendChild(a),t.appendChild(n),t.appendChild(o),t.appendChild(i),t.appendChild(r),oe){var c=document.getElementById("dg-local-explain"),l=document.getElementById("dg-local-storage");document.getElementById("dg-save-locally").style.display="block","true"===localStorage.getItem(_e(0,"isLocal"))&&l.setAttribute("checked","checked"),ve(e,c),R.bind(l,"change",(function(){e.useLocalStorage=!e.useLocalStorage,ve(e,c)}))}var u=document.getElementById("dg-new-constructor");R.bind(u,"keydown",(function(e){!e.metaKey||67!==e.which&&67!==e.keyCode||ie.hide()})),R.bind(n,"click",(function(){u.innerHTML=JSON.stringify(e.getSaveObject(),void 0,2),ie.show(),u.focus(),u.select()})),R.bind(o,"click",(function(){e.save()})),R.bind(i,"click",(function(){var t=prompt("Enter a new preset name.");t&&e.saveAs(t)})),R.bind(r,"click",(function(){e.revert()}))}(e),-1===e.__rememberedObjects.indexOf(t)&&e.__rememberedObjects.push(t)})),this.autoPlace&&ge(this,this.width)},getRoot:function(){for(var e=this;e.parent;)e=e.parent;return e},getSaveObject:function(){var e=this.load;return e.closed=this.closed,0<this.__rememberedObjects.length&&(e.preset=this.preset,e.remembered||(e.remembered={}),e.remembered[this.preset]=be(this)),e.folders={},s.each(this.__folders,(function(t,n){e.folders[n]=t.getSaveObject()})),e},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=be(this),fe(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(e){this.load.remembered||(this.load.remembered={},this.load.remembered[ne]=be(this,!0)),this.load.remembered[e]=be(this),this.preset=e,me(this,e,!0),this.saveToLocalStorageIfPossible()},revert:function(e){s.each(this.__controllers,(function(t){this.getRoot().load.remembered?he(e||this.getRoot(),t):t.setValue(t.initialValue),t.__onFinishChange&&t.__onFinishChange.call(t,t.getValue())}),this),s.each(this.__folders,(function(e){e.revert(e)})),e||fe(this.getRoot(),!1)},listen:function(e){var t=0===this.__listening.length;this.__listening.push(e),t&&function e(t){0!==t.length&&$.call(window,(function(){e(t)})),s.each(t,(function(e){e.updateDisplay()}))}(this.__listening)},updateDisplay:function(){s.each(this.__controllers,(function(e){e.updateDisplay()})),s.each(this.__folders,(function(e){e.updateDisplay()}))}});var ye={Color:w,math:_,interpret:l},xe={Controller:A,BooleanController:I,OptionController:j,StringController:H,NumberController:F,NumberControllerBox:z,NumberControllerSlider:U,FunctionController:X,ColorController:K},we={dom:R},Ee={GUI:le},Se=le,Ce={color:ye,controllers:xe,dom:we,gui:Ee,GUI:Se};t.default=Ce},function(e,t,n){"use strict";n.r(t);var o=n(39),i=n.n(o),r=n(6),a=n.n(r),s=n(15),c=n.n(s),l=n(16),u=n.n(l),d=[255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,8,3,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,9,255,255,255,255,255,255,255,255,255,255,255,255,255,1,8,3,9,8,1,255,255,255,255,255,255,255,255,255,255,1,2,10,255,255,255,255,255,255,255,255,255,255,255,255,255,0,8,3,1,2,10,255,255,255,255,255,255,255,255,255,255,9,2,10,0,2,9,255,255,255,255,255,255,255,255,255,255,2,8,3,2,10,8,10,9,8,255,255,255,255,255,255,255,3,11,2,255,255,255,255,255,255,255,255,255,255,255,255,255,0,11,2,8,11,0,255,255,255,255,255,255,255,255,255,255,1,9,0,2,3,11,255,255,255,255,255,255,255,255,255,255,1,11,2,1,9,11,9,8,11,255,255,255,255,255,255,255,3,10,1,11,10,3,255,255,255,255,255,255,255,255,255,255,0,10,1,0,8,10,8,11,10,255,255,255,255,255,255,255,3,9,0,3,11,9,11,10,9,255,255,255,255,255,255,255,9,8,10,10,8,11,255,255,255,255,255,255,255,255,255,255,4,7,8,255,255,255,255,255,255,255,255,255,255,255,255,255,4,3,0,7,3,4,255,255,255,255,255,255,255,255,255,255,0,1,9,8,4,7,255,255,255,255,255,255,255,255,255,255,4,1,9,4,7,1,7,3,1,255,255,255,255,255,255,255,1,2,10,8,4,7,255,255,255,255,255,255,255,255,255,255,3,4,7,3,0,4,1,2,10,255,255,255,255,255,255,255,9,2,10,9,0,2,8,4,7,255,255,255,255,255,255,255,2,10,9,2,9,7,2,7,3,7,9,4,255,255,255,255,8,4,7,3,11,2,255,255,255,255,255,255,255,255,255,255,11,4,7,11,2,4,2,0,4,255,255,255,255,255,255,255,9,0,1,8,4,7,2,3,11,255,255,255,255,255,255,255,4,7,11,9,4,11,9,11,2,9,2,1,255,255,255,255,3,10,1,3,11,10,7,8,4,255,255,255,255,255,255,255,1,11,10,1,4,11,1,0,4,7,11,4,255,255,255,255,4,7,8,9,0,11,9,11,10,11,0,3,255,255,255,255,4,7,11,4,11,9,9,11,10,255,255,255,255,255,255,255,9,5,4,255,255,255,255,255,255,255,255,255,255,255,255,255,9,5,4,0,8,3,255,255,255,255,255,255,255,255,255,255,0,5,4,1,5,0,255,255,255,255,255,255,255,255,255,255,8,5,4,8,3,5,3,1,5,255,255,255,255,255,255,255,1,2,10,9,5,4,255,255,255,255,255,255,255,255,255,255,3,0,8,1,2,10,4,9,5,255,255,255,255,255,255,255,5,2,10,5,4,2,4,0,2,255,255,255,255,255,255,255,2,10,5,3,2,5,3,5,4,3,4,8,255,255,255,255,9,5,4,2,3,11,255,255,255,255,255,255,255,255,255,255,0,11,2,0,8,11,4,9,5,255,255,255,255,255,255,255,0,5,4,0,1,5,2,3,11,255,255,255,255,255,255,255,2,1,5,2,5,8,2,8,11,4,8,5,255,255,255,255,10,3,11,10,1,3,9,5,4,255,255,255,255,255,255,255,4,9,5,0,8,1,8,10,1,8,11,10,255,255,255,255,5,4,0,5,0,11,5,11,10,11,0,3,255,255,255,255,5,4,8,5,8,10,10,8,11,255,255,255,255,255,255,255,9,7,8,5,7,9,255,255,255,255,255,255,255,255,255,255,9,3,0,9,5,3,5,7,3,255,255,255,255,255,255,255,0,7,8,0,1,7,1,5,7,255,255,255,255,255,255,255,1,5,3,3,5,7,255,255,255,255,255,255,255,255,255,255,9,7,8,9,5,7,10,1,2,255,255,255,255,255,255,255,10,1,2,9,5,0,5,3,0,5,7,3,255,255,255,255,8,0,2,8,2,5,8,5,7,10,5,2,255,255,255,255,2,10,5,2,5,3,3,5,7,255,255,255,255,255,255,255,7,9,5,7,8,9,3,11,2,255,255,255,255,255,255,255,9,5,7,9,7,2,9,2,0,2,7,11,255,255,255,255,2,3,11,0,1,8,1,7,8,1,5,7,255,255,255,255,11,2,1,11,1,7,7,1,5,255,255,255,255,255,255,255,9,5,8,8,5,7,10,1,3,10,3,11,255,255,255,255,5,7,0,5,0,9,7,11,0,1,0,10,11,10,0,255,11,10,0,11,0,3,10,5,0,8,0,7,5,7,0,255,11,10,5,7,11,5,255,255,255,255,255,255,255,255,255,255,10,6,5,255,255,255,255,255,255,255,255,255,255,255,255,255,0,8,3,5,10,6,255,255,255,255,255,255,255,255,255,255,9,0,1,5,10,6,255,255,255,255,255,255,255,255,255,255,1,8,3,1,9,8,5,10,6,255,255,255,255,255,255,255,1,6,5,2,6,1,255,255,255,255,255,255,255,255,255,255,1,6,5,1,2,6,3,0,8,255,255,255,255,255,255,255,9,6,5,9,0,6,0,2,6,255,255,255,255,255,255,255,5,9,8,5,8,2,5,2,6,3,2,8,255,255,255,255,2,3,11,10,6,5,255,255,255,255,255,255,255,255,255,255,11,0,8,11,2,0,10,6,5,255,255,255,255,255,255,255,0,1,9,2,3,11,5,10,6,255,255,255,255,255,255,255,5,10,6,1,9,2,9,11,2,9,8,11,255,255,255,255,6,3,11,6,5,3,5,1,3,255,255,255,255,255,255,255,0,8,11,0,11,5,0,5,1,5,11,6,255,255,255,255,3,11,6,0,3,6,0,6,5,0,5,9,255,255,255,255,6,5,9,6,9,11,11,9,8,255,255,255,255,255,255,255,5,10,6,4,7,8,255,255,255,255,255,255,255,255,255,255,4,3,0,4,7,3,6,5,10,255,255,255,255,255,255,255,1,9,0,5,10,6,8,4,7,255,255,255,255,255,255,255,10,6,5,1,9,7,1,7,3,7,9,4,255,255,255,255,6,1,2,6,5,1,4,7,8,255,255,255,255,255,255,255,1,2,5,5,2,6,3,0,4,3,4,7,255,255,255,255,8,4,7,9,0,5,0,6,5,0,2,6,255,255,255,255,7,3,9,7,9,4,3,2,9,5,9,6,2,6,9,255,3,11,2,7,8,4,10,6,5,255,255,255,255,255,255,255,5,10,6,4,7,2,4,2,0,2,7,11,255,255,255,255,0,1,9,4,7,8,2,3,11,5,10,6,255,255,255,255,9,2,1,9,11,2,9,4,11,7,11,4,5,10,6,255,8,4,7,3,11,5,3,5,1,5,11,6,255,255,255,255,5,1,11,5,11,6,1,0,11,7,11,4,0,4,11,255,0,5,9,0,6,5,0,3,6,11,6,3,8,4,7,255,6,5,9,6,9,11,4,7,9,7,11,9,255,255,255,255,10,4,9,6,4,10,255,255,255,255,255,255,255,255,255,255,4,10,6,4,9,10,0,8,3,255,255,255,255,255,255,255,10,0,1,10,6,0,6,4,0,255,255,255,255,255,255,255,8,3,1,8,1,6,8,6,4,6,1,10,255,255,255,255,1,4,9,1,2,4,2,6,4,255,255,255,255,255,255,255,3,0,8,1,2,9,2,4,9,2,6,4,255,255,255,255,0,2,4,4,2,6,255,255,255,255,255,255,255,255,255,255,8,3,2,8,2,4,4,2,6,255,255,255,255,255,255,255,10,4,9,10,6,4,11,2,3,255,255,255,255,255,255,255,0,8,2,2,8,11,4,9,10,4,10,6,255,255,255,255,3,11,2,0,1,6,0,6,4,6,1,10,255,255,255,255,6,4,1,6,1,10,4,8,1,2,1,11,8,11,1,255,9,6,4,9,3,6,9,1,3,11,6,3,255,255,255,255,8,11,1,8,1,0,11,6,1,9,1,4,6,4,1,255,3,11,6,3,6,0,0,6,4,255,255,255,255,255,255,255,6,4,8,11,6,8,255,255,255,255,255,255,255,255,255,255,7,10,6,7,8,10,8,9,10,255,255,255,255,255,255,255,0,7,3,0,10,7,0,9,10,6,7,10,255,255,255,255,10,6,7,1,10,7,1,7,8,1,8,0,255,255,255,255,10,6,7,10,7,1,1,7,3,255,255,255,255,255,255,255,1,2,6,1,6,8,1,8,9,8,6,7,255,255,255,255,2,6,9,2,9,1,6,7,9,0,9,3,7,3,9,255,7,8,0,7,0,6,6,0,2,255,255,255,255,255,255,255,7,3,2,6,7,2,255,255,255,255,255,255,255,255,255,255,2,3,11,10,6,8,10,8,9,8,6,7,255,255,255,255,2,0,7,2,7,11,0,9,7,6,7,10,9,10,7,255,1,8,0,1,7,8,1,10,7,6,7,10,2,3,11,255,11,2,1,11,1,7,10,6,1,6,7,1,255,255,255,255,8,9,6,8,6,7,9,1,6,11,6,3,1,3,6,255,0,9,1,11,6,7,255,255,255,255,255,255,255,255,255,255,7,8,0,7,0,6,3,11,0,11,6,0,255,255,255,255,7,11,6,255,255,255,255,255,255,255,255,255,255,255,255,255,7,6,11,255,255,255,255,255,255,255,255,255,255,255,255,255,3,0,8,11,7,6,255,255,255,255,255,255,255,255,255,255,0,1,9,11,7,6,255,255,255,255,255,255,255,255,255,255,8,1,9,8,3,1,11,7,6,255,255,255,255,255,255,255,10,1,2,6,11,7,255,255,255,255,255,255,255,255,255,255,1,2,10,3,0,8,6,11,7,255,255,255,255,255,255,255,2,9,0,2,10,9,6,11,7,255,255,255,255,255,255,255,6,11,7,2,10,3,10,8,3,10,9,8,255,255,255,255,7,2,3,6,2,7,255,255,255,255,255,255,255,255,255,255,7,0,8,7,6,0,6,2,0,255,255,255,255,255,255,255,2,7,6,2,3,7,0,1,9,255,255,255,255,255,255,255,1,6,2,1,8,6,1,9,8,8,7,6,255,255,255,255,10,7,6,10,1,7,1,3,7,255,255,255,255,255,255,255,10,7,6,1,7,10,1,8,7,1,0,8,255,255,255,255,0,3,7,0,7,10,0,10,9,6,10,7,255,255,255,255,7,6,10,7,10,8,8,10,9,255,255,255,255,255,255,255,6,8,4,11,8,6,255,255,255,255,255,255,255,255,255,255,3,6,11,3,0,6,0,4,6,255,255,255,255,255,255,255,8,6,11,8,4,6,9,0,1,255,255,255,255,255,255,255,9,4,6,9,6,3,9,3,1,11,3,6,255,255,255,255,6,8,4,6,11,8,2,10,1,255,255,255,255,255,255,255,1,2,10,3,0,11,0,6,11,0,4,6,255,255,255,255,4,11,8,4,6,11,0,2,9,2,10,9,255,255,255,255,10,9,3,10,3,2,9,4,3,11,3,6,4,6,3,255,8,2,3,8,4,2,4,6,2,255,255,255,255,255,255,255,0,4,2,4,6,2,255,255,255,255,255,255,255,255,255,255,1,9,0,2,3,4,2,4,6,4,3,8,255,255,255,255,1,9,4,1,4,2,2,4,6,255,255,255,255,255,255,255,8,1,3,8,6,1,8,4,6,6,10,1,255,255,255,255,10,1,0,10,0,6,6,0,4,255,255,255,255,255,255,255,4,6,3,4,3,8,6,10,3,0,3,9,10,9,3,255,10,9,4,6,10,4,255,255,255,255,255,255,255,255,255,255,4,9,5,7,6,11,255,255,255,255,255,255,255,255,255,255,0,8,3,4,9,5,11,7,6,255,255,255,255,255,255,255,5,0,1,5,4,0,7,6,11,255,255,255,255,255,255,255,11,7,6,8,3,4,3,5,4,3,1,5,255,255,255,255,9,5,4,10,1,2,7,6,11,255,255,255,255,255,255,255,6,11,7,1,2,10,0,8,3,4,9,5,255,255,255,255,7,6,11,5,4,10,4,2,10,4,0,2,255,255,255,255,3,4,8,3,5,4,3,2,5,10,5,2,11,7,6,255,7,2,3,7,6,2,5,4,9,255,255,255,255,255,255,255,9,5,4,0,8,6,0,6,2,6,8,7,255,255,255,255,3,6,2,3,7,6,1,5,0,5,4,0,255,255,255,255,6,2,8,6,8,7,2,1,8,4,8,5,1,5,8,255,9,5,4,10,1,6,1,7,6,1,3,7,255,255,255,255,1,6,10,1,7,6,1,0,7,8,7,0,9,5,4,255,4,0,10,4,10,5,0,3,10,6,10,7,3,7,10,255,7,6,10,7,10,8,5,4,10,4,8,10,255,255,255,255,6,9,5,6,11,9,11,8,9,255,255,255,255,255,255,255,3,6,11,0,6,3,0,5,6,0,9,5,255,255,255,255,0,11,8,0,5,11,0,1,5,5,6,11,255,255,255,255,6,11,3,6,3,5,5,3,1,255,255,255,255,255,255,255,1,2,10,9,5,11,9,11,8,11,5,6,255,255,255,255,0,11,3,0,6,11,0,9,6,5,6,9,1,2,10,255,11,8,5,11,5,6,8,0,5,10,5,2,0,2,5,255,6,11,3,6,3,5,2,10,3,10,5,3,255,255,255,255,5,8,9,5,2,8,5,6,2,3,8,2,255,255,255,255,9,5,6,9,6,0,0,6,2,255,255,255,255,255,255,255,1,5,8,1,8,0,5,6,8,3,8,2,6,2,8,255,1,5,6,2,1,6,255,255,255,255,255,255,255,255,255,255,1,3,6,1,6,10,3,8,6,5,6,9,8,9,6,255,10,1,0,10,0,6,9,5,0,5,6,0,255,255,255,255,0,3,8,5,6,10,255,255,255,255,255,255,255,255,255,255,10,5,6,255,255,255,255,255,255,255,255,255,255,255,255,255,11,5,10,7,5,11,255,255,255,255,255,255,255,255,255,255,11,5,10,11,7,5,8,3,0,255,255,255,255,255,255,255,5,11,7,5,10,11,1,9,0,255,255,255,255,255,255,255,10,7,5,10,11,7,9,8,1,8,3,1,255,255,255,255,11,1,2,11,7,1,7,5,1,255,255,255,255,255,255,255,0,8,3,1,2,7,1,7,5,7,2,11,255,255,255,255,9,7,5,9,2,7,9,0,2,2,11,7,255,255,255,255,7,5,2,7,2,11,5,9,2,3,2,8,9,8,2,255,2,5,10,2,3,5,3,7,5,255,255,255,255,255,255,255,8,2,0,8,5,2,8,7,5,10,2,5,255,255,255,255,9,0,1,5,10,3,5,3,7,3,10,2,255,255,255,255,9,8,2,9,2,1,8,7,2,10,2,5,7,5,2,255,1,3,5,3,7,5,255,255,255,255,255,255,255,255,255,255,0,8,7,0,7,1,1,7,5,255,255,255,255,255,255,255,9,0,3,9,3,5,5,3,7,255,255,255,255,255,255,255,9,8,7,5,9,7,255,255,255,255,255,255,255,255,255,255,5,8,4,5,10,8,10,11,8,255,255,255,255,255,255,255,5,0,4,5,11,0,5,10,11,11,3,0,255,255,255,255,0,1,9,8,4,10,8,10,11,10,4,5,255,255,255,255,10,11,4,10,4,5,11,3,4,9,4,1,3,1,4,255,2,5,1,2,8,5,2,11,8,4,5,8,255,255,255,255,0,4,11,0,11,3,4,5,11,2,11,1,5,1,11,255,0,2,5,0,5,9,2,11,5,4,5,8,11,8,5,255,9,4,5,2,11,3,255,255,255,255,255,255,255,255,255,255,2,5,10,3,5,2,3,4,5,3,8,4,255,255,255,255,5,10,2,5,2,4,4,2,0,255,255,255,255,255,255,255,3,10,2,3,5,10,3,8,5,4,5,8,0,1,9,255,5,10,2,5,2,4,1,9,2,9,4,2,255,255,255,255,8,4,5,8,5,3,3,5,1,255,255,255,255,255,255,255,0,4,5,1,0,5,255,255,255,255,255,255,255,255,255,255,8,4,5,8,5,3,9,0,5,0,3,5,255,255,255,255,9,4,5,255,255,255,255,255,255,255,255,255,255,255,255,255,4,11,7,4,9,11,9,10,11,255,255,255,255,255,255,255,0,8,3,4,9,7,9,11,7,9,10,11,255,255,255,255,1,10,11,1,11,4,1,4,0,7,4,11,255,255,255,255,3,1,4,3,4,8,1,10,4,7,4,11,10,11,4,255,4,11,7,9,11,4,9,2,11,9,1,2,255,255,255,255,9,7,4,9,11,7,9,1,11,2,11,1,0,8,3,255,11,7,4,11,4,2,2,4,0,255,255,255,255,255,255,255,11,7,4,11,4,2,8,3,4,3,2,4,255,255,255,255,2,9,10,2,7,9,2,3,7,7,4,9,255,255,255,255,9,10,7,9,7,4,10,2,7,8,7,0,2,0,7,255,3,7,10,3,10,2,7,4,10,1,10,0,4,0,10,255,1,10,2,8,7,4,255,255,255,255,255,255,255,255,255,255,4,9,1,4,1,7,7,1,3,255,255,255,255,255,255,255,4,9,1,4,1,7,0,8,1,8,7,1,255,255,255,255,4,0,3,7,4,3,255,255,255,255,255,255,255,255,255,255,4,8,7,255,255,255,255,255,255,255,255,255,255,255,255,255,9,10,8,10,11,8,255,255,255,255,255,255,255,255,255,255,3,0,9,3,9,11,11,9,10,255,255,255,255,255,255,255,0,1,10,0,10,8,8,10,11,255,255,255,255,255,255,255,3,1,10,11,3,10,255,255,255,255,255,255,255,255,255,255,1,2,11,1,11,9,9,11,8,255,255,255,255,255,255,255,3,0,9,3,9,11,1,2,9,2,11,9,255,255,255,255,0,2,11,8,0,11,255,255,255,255,255,255,255,255,255,255,3,2,11,255,255,255,255,255,255,255,255,255,255,255,255,255,2,3,8,2,8,10,10,8,9,255,255,255,255,255,255,255,9,10,2,0,9,2,255,255,255,255,255,255,255,255,255,255,2,3,8,2,8,10,0,1,8,1,10,8,255,255,255,255,1,10,2,255,255,255,255,255,255,255,255,255,255,255,255,255,1,3,8,9,1,8,255,255,255,255,255,255,255,255,255,255,0,9,1,255,255,255,255,255,255,255,255,255,255,255,255,255,0,3,8,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255],f=function(){function e(){c()(this,e),this.triTableTexture=new THREE.DataTexture(new Uint8Array(d),4096,1,THREE.AlphaFormat),this.triTableTexture.minFilter=THREE.NearestFilter,this.triTableTexture.magFilter=THREE.NearestFilter,this.triTableTexture.mipmap=!1,this.numMarchingSegments=30,this.margingSpaceSize=64,this.numSpheres=6,this.smoothUnionValue=6,this.sphereColor=[255,0,0],this.geometry=new THREE.BufferGeometry,this.material=new THREE.RawShaderMaterial({vertexShader:n(80),fragmentShader:n(81),side:THREE.DoubleSide,defines:{NUM_SPHERES:this.numSpheres},uniforms:{triTableTexture:{type:"t",value:this.triTableTexture},sphereColor:{type:"c",value:new THREE.Color(this.sphereColor[0]/255,this.sphereColor[1]/255,this.sphereColor[2]/255)},time:{type:"1f",value:0},effectValue:{type:"1f",value:0},smoothUnionValue:{type:"1f",value:this.smoothUnionValue},numCells:{type:"3f",value:0},cellSize:{type:"3f",value:0},randomValues:{type:"4fv",value:[]}}}),this.mesh=new THREE.Mesh(this.geometry,this.material),this.updateMargingCubesSpace(),this.updateNumSpheres(),this.initDatGUI()}return u()(e,[{key:"updateMargingCubesSpace",value:function(){var e=new THREE.Vector3(this.margingSpaceSize,this.margingSpaceSize,this.margingSpaceSize),t=new THREE.Vector3(this.numMarchingSegments,this.numMarchingSegments,this.numMarchingSegments),n=new THREE.Vector3(e.x/t.x,e.y/t.y,e.z/t.z),o=t.x*t.y*t.z*15;this.geometry.dispose(),this.geometry=new THREE.BufferGeometry,this.mesh.geometry=this.geometry;for(var i=[],r=[],a=0;a<o;a++)i.push(0),i.push(0),i.push(0),r.push(a);this.geometry.setAttribute("position",new THREE.BufferAttribute(new Float32Array(i),3)),this.geometry.setAttribute("vertexId",new THREE.BufferAttribute(new Float32Array(r),1)),this.material.uniforms.numCells.value=t,this.material.uniforms.cellSize.value=n}},{key:"updateNumSpheres",value:function(){for(var e=[],t=0;t<this.numSpheres;t++)e.push(new THREE.Vector4(Math.random(),Math.random(),Math.random(),Math.random()));this.material.defines.NUM_SPHERES=this.numSpheres,this.material.uniforms.randomValues.value=e,this.material.needsUpdate=!0}},{key:"initDatGUI",value:function(){var e=this,t=n(82);this.gui=new t.GUI,this.gui.domElement.parentElement.style.zIndex=1e5,this.effectValue=this.material.uniforms.effectValue.value,this.gui.add(this,"effectValue",0,1,this.effectValue).step(.01).onChange((function(t){e.material.uniforms.effectValue.value=t})),this.gui.add(this,"smoothUnionValue",0,30,this.smoothUnionValue).step(.01).onChange((function(t){e.material.uniforms.smoothUnionValue.value=t})),this.gui.add(this,"numMarchingSegments",4,64,this.numMarchingSegments).step(2).onFinishChange((function(t){e.updateMargingCubesSpace()})),this.gui.add(this,"numSpheres",4,50,this.numSpheres).step(1).onFinishChange((function(t){e.updateNumSpheres()})),this.isWireframe=this.material.wireframe,this.gui.add(this,"isWireframe").onChange((function(t){e.material.wireframe=t,e.material.needsUpdate=!0})),this.gui.addColor(this,"sphereColor").onChange((function(t){e.material.uniforms.sphereColor.value=new THREE.Color(t[0]/255,t[1]/255,t[2]/255)}))}},{key:"update",value:function(e){this.material.uniforms.time.value=e}}]),e}(),h=n(25),p=(window[h.projectName]=window[h.projectName]||{},function(){function e(){c()(this,e),this.init()}return u()(e,[{key:"init",value:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.awrap(this.initWebGL());case 2:case"end":return e.stop()}}),null,this)}},{key:"initWebGL",value:function(){var e=this;return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new i.a((function(t,n){return a.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(THREE.WEBGL.isWebGLAvailable()){o.next=4;break}return e.isNoWebGL=!0,n("WebGL is not supported"),o.abrupt("return");case 4:window.addEventListener("resize",e.onResize.bind(e)),e.container=document.body.querySelector(".js-mainVisual"),e.canvas=e.container.querySelector("canvas"),e.width=window.innerWidth,e.height=window.innerHeight,e.devicePixelRatio=window.devicePixelRatio,e.renderer=new THREE.WebGLRenderer({canvas:e.canvas,devicePixelRatio:e.devicePixelRatio}),e.renderer.setPixelRatio(e.devicePixelRatio),e.scene=new THREE.Scene,e.camera=new THREE.PerspectiveCamera(45,1,1,1e3),e.camera.position.z=100,e.camera.lookAt(0,0,0),e.controls=new THREE.TrackballControls(e.camera,e.canvas),e.controls.rotateSpeed=4,e.marchingCubes=new f,e.scene.add(e.marchingCubes.mesh),e.onResize(),console.log("webgl inited"),e.isNoWebGL=!1,e.start(),t();case 25:case"end":return o.stop()}}))})).catch((function(t){e.isNoWebGL=!0,console.error(t)})));case 1:case"end":return t.stop()}}))}},{key:"start",value:function(){this.isNoWebGL||(this.update=this.update.bind(this),this.startTime=(new Date).getTime()+4e4*Math.random(),this.update())}},{key:"update",value:function(){this.animationId=window.requestAnimationFrame(this.update),this.render()}},{key:"render",value:function(){var e=(new Date).getTime()-this.startTime;this.controls.update(),this.renderer.render(this.scene,this.camera),this.marchingCubes.update(e)}},{key:"onResize",value:function(){var e;return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isNoWebGL)return t.abrupt("return");t.next=2;break;case 2:this.width=window.innerWidth,this.height=window.innerHeight,e=this.width/this.height,this.renderer.setSize(this.width,this.height),this.camera.aspect=e,this.camera.updateProjectionMatrix(),this.controls.handleResize(),this.render();case 10:case"end":return t.stop()}}),null,this)}}]),e}()),_=n(25),m=window[_.projectName]=window[_.projectName]||{};window.addEventListener("DOMContentLoaded",(function(){m.main=new p}))}]);